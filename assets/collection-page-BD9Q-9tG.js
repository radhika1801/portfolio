const y={fairbanks:{path:"./assets/photography/fairbanks",count:14,prefix:"fb"},hongkong:{path:"./assets/photography/hongkong",count:18,prefix:"hk"},jaipur:{path:"./assets/photography/jaipur",count:16,prefix:"j"}};document.addEventListener("DOMContentLoaded",()=>{const m=document.querySelector(".gallery"),n=document.getElementById("hero-img"),p=document.getElementById("thumbs"),r=document.getElementById("lightbox"),s=document.getElementById("lightbox-img"),u=document.querySelector(".arrow.left"),f=document.querySelector(".arrow.right");let e=0,t=[];if(m){let g=function(){e=(e+1)%t.length,n.src=t[e],s.src=t[e]},h=function(){e=(e-1+t.length)%t.length,n.src=t[e],s.src=t[e]};var v=g,E=h;const d=m.dataset.collection,a=y[d];if(!a){console.error("Collection not found:",d);return}t=Array.from({length:a.count},(o,c)=>`${a.path}/${a.prefix}${c+1}.jpg`),t.forEach((o,c)=>{const l=document.createElement("div");l.className="thumb";const i=document.createElement("img");i.src=o,i.alt=`${d} ${c+1}`,i.loading=c>8?"lazy":"eager",i.onerror=()=>{console.error(`Failed to load image: ${o}`)},l.appendChild(i),p.appendChild(l),l.addEventListener("click",()=>{e=c,n.src=t[e],window.scrollTo({top:0,behavior:"smooth"})})}),n&&n.addEventListener("click",()=>{r.classList.add("active"),s.src=t[e]}),u&&u.addEventListener("click",h),f&&f.addEventListener("click",g),document.addEventListener("keydown",o=>{o.key==="ArrowRight"&&g(),o.key==="ArrowLeft"&&h(),o.key==="Escape"&&r.classList.remove("active")}),r.addEventListener("click",o=>{o.target===r&&r.classList.remove("active")})}else console.log("No gallery found on this page")});
